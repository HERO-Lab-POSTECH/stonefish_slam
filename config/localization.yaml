# Localization Module Configuration
# Contains: SLAM keyframe selection, noise models, SSM, NSSM, PCM, ICP settings
slam_node:
  ros__parameters:
    # ==================== Keyframe Selection for SLAM ====================
    # How often to add keyframes (between 1 and 4 meters is best)
    keyframe_duration: 1.0
    keyframe_translation: 3.0
    keyframe_rotation: 0.5236  # 30 degrees in radians

    # ==================== SLAM Noise Models ====================
    # [x_sigma_m, y_sigma_m, theta_sigma_rad]
    slam_prior_noise: [0.1, 0.1, 0.01]  # Initial pose uncertainty
    slam_odom_noise: [0.2, 0.2, 0.02]   # Dead reckoning uncertainty
    slam_icp_noise: [0.1, 0.1, 0.01]    # ICP measurement uncertainty

    # ==================== Point Cloud Processing ====================
    # Point cloud downsampling for ICP/publishing
    point_downsample_resolution: 0.5  # Point cloud voxel leaf size (meters)

    # ==================== Sequential Scan Matching (SSM) ====================
    ssm.min_points: 50  # the min number of points to try SSM
    ssm.max_translation: 3.0  # the max translation allowed
    ssm.max_rotation: 0.5236  # 30 degrees in radians
    ssm.target_frames: 3  # the numeber of frames we compare the current frame to

    # ==================== ICP Configuration Path ====================
    # ICP configuration file path (set from launch file)
    icp_config: '/workspace/colcon_ws/src/stonefish_slam/config/icp.yaml'
