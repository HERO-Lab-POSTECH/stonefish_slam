# Mapping Module Configuration
# Contains: 2D and 3D mapping parameters
# Method-specific parameters are in config/mapping/method_*.yaml
slam_node:
  ros__parameters:
    # ==================== 2D Mapping Configuration ====================
    mapping_2d:
      map_2d_resolution: 0.1    # 2D occupancy grid resolution (meters/pixel)
      map_size: [4000, 4000]    # [width, height] in pixels
      map_update_interval: 1    # update every N keyframes
      intensity_threshold: 10   # minimum intensity (0-255) for pixels

    # ==================== 3D Mapping Configuration ====================
    mapping_3d:
      # Common parameters (all methods)
      map_3d_voxel_size: 0.1        # 3D octree voxel size (meters)
      min_probability: 0.7          # minimum probability for occupied voxel
      use_cpp_backend: true          # Use C++ backend (DDA + OpenMP)
      use_cpp_ray_processor: true    # Use C++ ray processor backend
      use_dda_traversal: true        # Use DDA ray traversal algorithm
      bearing_step: 4                # Process every Nth bearing (4 = 128 bearings)

      # Range weighting (common)
      use_range_weighting: true      # use exponential range weighting
      lambda_decay: 0.1              # decay factor for range weighting

      # Propagation (common)
      enable_propagation: true      # Bearing propagation (ray 사이 보간)
      propagation_radius: 2          # ±2 bearing 전파
      propagation_sigma: 1.5         # Gaussian 가중치 표준편차
      enable_gaussian_weighting: true  # Gaussian weighting for bearing-based updates

      # Probability update method (method-specific params in method_*.yaml)
      update_method: 'iwlo'   # Options: 'log_odds', 'weighted_avg', 'iwlo'
